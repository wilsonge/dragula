!function(){var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{};function e(t){return t&&t.__esModule?t.default:t}var i={},r={};r=function(t,e){return Array.prototype.slice.call(t,e)};var n={},s={};s="function"==typeof setImmediate?function(t){setImmediate(t)}:function(t){setTimeout(t,0)},n=function(t,e,i){t&&s(function(){t.apply(i||null,e||[])})},i=function(t,e){var i=e||{},s={};return void 0===t&&(t={}),t.on=function(e,i){return s[e]?s[e].push(i):s[e]=[i],t},t.once=function(e,i){return i._once=!0,t.on(e,i),t},t.off=function(e,i){var r=arguments.length;if(1===r)delete s[e];else if(0===r)s={};else{var n=s[e];if(!n)return t;n.splice(n.indexOf(i),1)}return t},t.emit=function(){var e=r(arguments);return t.emitterSnapshot(e.shift()).apply(this,e)},t.emitterSnapshot=function(e){var o=(s[e]||[]).slice(0);return function(){var s=r(arguments),a=this||t;if("error"===e&&!1!==i.throws&&!o.length)throw 1===s.length?s[0]:s;return o.forEach(function(r){i.async?n(r,s,a):r.apply(a,s),r._once&&t.off(e,r)}),t}},t};var o={},a={},h=t.CustomEvent;a=!function(){try{var t=new h("cat",{detail:{foo:"bar"}});return"cat"===t.type&&"bar"===t.detail.foo}catch(t){}return!1}()?"undefined"!=typeof document&&"function"==typeof document.createEvent?function(t,e){var i=document.createEvent("CustomEvent");return e?i.initCustomEvent(t,e.bubbles,e.cancelable,e.detail):i.initCustomEvent(t,!1,!1,void 0),i}:function(t,e){var i=document.createEventObject();return i.type=t,e?(i.bubbles=!!e.bubbles,i.cancelable=!!e.cancelable,i.detail=e.detail):(i.bubbles=!1,i.cancelable=!1,i.detail=void 0),i}:h;var l={},c=[],u="",d=/^on/;for(u in t)d.test(u)&&c.push(u.slice(2));l=c;var m=t.document,p=function(t,e,i,r){return t.addEventListener(e,i,r)},f=function(t,e,i,r){return t.removeEventListener(e,i,r)},g=[];function v(t,e,i){var r=function(t,e,i){var r,n;for(r=0;r<g.length;r++)if((n=g[r]).element===t&&n.type===e&&n.fn===i)return r}(t,e,i);if(r){var n=g[r].wrapper;return g.splice(r,1),n}}function b(i,r,n,s){let{navigator:a}=t;a.pointerEnabled?e(o)[r](i,{mouseup:"pointerup",mousedown:"pointerdown",mousemove:"pointermove"}[n],s):a.msPointerEnabled?e(o)[r](i,{mouseup:"MSPointerUp",mousedown:"MSPointerDown",mousemove:"MSPointerMove"}[n],s):(e(o)[r](i,{mouseup:"touchend",mousedown:"touchstart",mousemove:"touchmove"}[n],s),e(o)[r](i,n,s))}function y(t){if(void 0!==t.touches)return t.touches.length;if(void 0!==t.which&&0!==t.which)return t.which;if(void 0!==t.buttons)return t.buttons;let{button:e}=t;if(void 0!==e)return 1&e?1:2&e?3:4&e?2:0}t.addEventListener||(p=function(e,i,r){var n,s,o,a;return e.attachEvent("on"+i,(a=v(n=e,s=i,o=r)||function(e){var i=e||t.event;i.target=i.target||i.srcElement,i.preventDefault=i.preventDefault||function(){i.returnValue=!1},i.stopPropagation=i.stopPropagation||function(){i.cancelBubble=!0},i.which=i.which||i.keyCode,o.call(n,i)},g.push({wrapper:a,element:n,type:s,fn:o}),a))},f=function(t,e,i){var r=v(t,e,i);if(r)return t.detachEvent("on"+e,r)}),o={add:p,remove:f,fabricate:function(t,e,i){var r,n=-1===l.indexOf(e)?new a(e,{detail:i}):(m.createEvent?(r=m.createEvent("Event")).initEvent(e,!0,!0):m.createEventObject&&(r=m.createEventObject()),r);t.dispatchEvent?t.dispatchEvent(n):t.fireEvent("on"+e,n)}};let S=document,{documentElement:E}=S;function w(t){return t.parentNode===S?null:t.parentNode}function T(t,e){let i=e;for(;i!==t&&w(i)!==t;)i=w(i);return i===E?null:i}function k(t){return"INPUT"===t.tagName||"TEXTAREA"===t.tagName||"SELECT"===t.tagName||function t(e){return!!e&&"false"!==e.contentEditable&&("true"===e.contentEditable||t(w(e)))}(t)}function C(t,e){let i=e.targetTouches&&e.targetTouches.length?e.targetTouches[0]:e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:e,r={pageX:"clientX",pageY:"clientY"},n=t;return t in r&&!(t in i)&&r[t]in i&&(n=r[t]),i[n]}function D(e,i){return void 0!==t[i]?t[i]:E.clientHeight?E[e]:S.body[e]}function M(t){return t.width||t.right-t.left}function O(t){return t.height||t.bottom-t.top}function F(t){return t.nextElementSibling||function(){let e=t;do e=e.nextSibling;while(e&&1!==e.nodeType)return e}()}function X(t,e,i){let r=(t=t||{}).className||"";t.className+=" gu-hide";let n=S.elementFromPoint(e,i);return t.className=r,n}let Y={moves:()=>!0,accepts:()=>!0,invalid:()=>!1,containers:[],isContainer:()=>!1,copy:!1,copySortSource:!1,revertOnSpill:!1,removeOnSpill:!1,direction:"vertical",ignoreInputTextSelection:!0,mirrorContainer:S.body,slideFactorX:0,slideFactorY:0};class P{constructor(t={}){this.options={...Y,...t},this.lastDropTarget=null,this.movementBindFn=this.startBecauseMouseMoved.bind(this),this.preventGrabbedFn=this.preventGrabbed.bind(this),this.grabFn=this.grab.bind(this),this.releaseFn=this.release.bind(this),this.dragFn=this.drag.bind(this),this.drake=e(i)({containers:this.options.containers,start:this.manualStart.bind(this),end:this.end.bind(this),cancel:this.cancel.bind(this),remove:this.remove.bind(this),destroy:this.destroy.bind(this),canMove:this.canMove.bind(this),dragging:!1}),!0===this.options.removeOnSpill&&this.drake.on("over",this.spillOver.bind(this)).on("out",this.spillOut.bind(this))}spillOver(t){t.classList.remove("gu-hide")}spillOut(t){this.drake.dragging&&t.classList.add("gu-hide")}events(t=!1){let e=t?"remove":"add";b(E,e,"mousedown",this.grabFn),b(E,e,"mouseup",this.releaseFn)}preventGrabbed(t){this.grabbed&&t.preventDefault()}movements(t){var i,r;i=t?"remove":"add",r=this.preventGrabbedFn,e(o)[i](E,"selectstart",r),e(o)[i](E,"click",r)}getDrake(){return this.drake}grab(t){if(this.moveX=t.clientX,this.moveY=t.clientY,1!==y(t)||t.metaKey||t.ctrlKey)return;let e=t.target,i=this.canStart(e);i&&(this.grabbed=i,this.eventualMovements(),"mousedown"===t.type&&(k(e)?e.focus():t.preventDefault()))}ungrab(){this.grabbed=!1,this.eventualMovements(!0),this.movements(!0)}release(t){if(this.ungrab(),!this.drake.dragging)return;let e=this.copy||this.item,i=C("clientX",t)||0,r=C("clientY",t)||0,n=X(this.mirror,i,r),s=this.findDropTarget(n,i,r);s&&(this.copy&&this.options.copySortSource||!this.copy||s!==this.source)?this.drop(e,s):this.options.removeOnSpill?this.remove():this.cancel()}eventualMovements(t){b(E,t?"remove":"add","mousemove",this.movementBindFn)}startBecauseMouseMoved(t){if(!this.grabbed)return;if(0===y(t)){this.release({});return}if(void 0!==t.clientX&&Math.abs(t.clientX-this.moveX)<=this.options.slideFactorX&&void 0!==t.clientY&&Math.abs(t.clientY-this.moveY)<=this.options.slideFactorY)return;if(this.options.ignoreInputTextSelection){let e=C("clientX",t)||0,i=C("clientY",t)||0;if(k(S.elementFromPoint(e,i)))return}let{grabbed:e}=this;this.eventualMovements(!0),this.movements(),this.end(),this.start(e);let i=function(t){let e=t.getBoundingClientRect();return{left:e.left+D("scrollLeft","pageXOffset"),top:e.top+D("scrollTop","pageYOffset")}}(this.item);this.offsetX=C("pageX",t)-i.left,this.offsetY=C("pageY",t)-i.top,(this.copy||this.item).classList.add("gu-transit"),this.renderMirrorImage(),this.drag(t)}drag(t){let e;if(!this.mirror)return;t.preventDefault();let i=C("clientX",t)||0,r=C("clientY",t)||0,n=i-this.offsetX,s=r-this.offsetY;this.mirror.style.left=`${n}px`,this.mirror.style.top=`${s}px`;let o=this.copy||this.item,a=X(this.mirror,i,r),h=this.findDropTarget(a,i,r),l=null!==h&&h!==this.lastDropTarget;(l||null===h)&&(this.lastDropTarget&&this.drake.emit("out",o,this.lastDropTarget,this.source),this.lastDropTarget=h,l&&this.drake.emit("over",o,this.lastDropTarget,this.source));let c=w(o);if(h===this.source&&this.copy&&!this.options.copySortSource){c&&c.removeChild(o);return}let u=T(h,a);if(null!==u)e=this.getReference(h,u,i,r);else if(!0!==this.options.revertOnSpill||this.copy){this.copy&&c&&c.removeChild(o);return}else e=this.initialSibling,h=this.source;(null===e&&l||e!==o&&e!==F(o))&&(this.currentSibling=e,h.insertBefore(o,e),this.drake.emit("shadow",o,h,this.source))}renderMirrorImage(){if(this.mirror)return;let t=this.item.getBoundingClientRect();this.mirror=this.item.cloneNode(!0),this.mirror.style.width=`${M(t)}px`,this.mirror.style.height=`${O(t)}px`,this.mirror.classList.remove("gu-transit"),this.mirror.classList.add("gu-mirror"),this.options.mirrorContainer.appendChild(this.mirror),b(E,"add","mousemove",this.dragFn),this.options.mirrorContainer.classList.add("gu-unselectable"),this.drake.emit("cloned",this.mirror,this.item,"mirror")}removeMirrorImage(){this.mirror&&(this.options.mirrorContainer.classList.remove("gu-unselectable"),b(E,"remove","mousemove",this.dragFn),w(this.mirror).removeChild(this.mirror),this.mirror=null)}start(t){this.isCopy(t.item,t.source)&&(this.copy=t.item.cloneNode(!0),this.drake.emit("cloned",this.copy,t.item,"copy")),this.source=t.source,this.item=t.item,this.initialSibling=F(t.item),this.currentSibling=F(t.item),this.drake.dragging=!0,this.drake.emit("drag",this.item,this.source)}end(){if(!this.drake.dragging)return;let t=this.copy||this.item;this.drop(t,w(t))}cancel(t){if(!this.drake.dragging)return;let e=arguments.length>0?t:this.options.revertOnSpill,i=this.copy||this.item,r=w(i),n=this.isInitialPlacement(r);!1===n&&e&&(this.copy?r&&r.removeChild(this.copy):this.source.insertBefore(i,this.initialSibling)),n||e?this.drake.emit("cancel",i,this.source,this.source):this.drake.emit("drop",i,r,this.source,this.currentSibling),this.cleanup()}cleanup(){let t=this.copy||this.item;this.ungrab(),this.removeMirrorImage(),t&&t.classList.remove("gu-transit"),this.drake.dragging=!1,this.lastDropTarget&&this.drake.emit("out",t,this.lastDropTarget,this.source),this.drake.emit("dragend",t),this.source=this.item=this.copy=this.initialSibling=this.currentSibling=this.lastDropTarget=null}isCopy(t,e){return"boolean"==typeof this.options.copy?this.options.copy:this.options.copy(t,e)}isContainer(t){return -1!==this.drake.containers.indexOf(t)||this.options.isContainer(t)}findDropTarget(t,e,i){let r=t;for(;r&&!this.isDropTargetAccepted(r,t,e,i);)r=w(r);return r}isDropTargetAccepted(t,e,i,r){if(!1===this.isContainer(t))return!1;let n=T(t,e),s=this.getReference(t,n,i,r);return!!this.isInitialPlacement(t,s)||this.options.accepts(this.item,t,this.source,s)}isInitialPlacement(t,e){let i;return i=void 0!==e?e:this.mirror?this.currentSibling:F(this.copy||this.item),t===this.source&&i===this.initialSibling}getReference(t,e,i,r){let n="horizontal"===this.options.direction;return e!==t?function(){let t=e.getBoundingClientRect();return n?i>t.left+M(t)/2?F(e):e:r>t.top+O(t)/2?F(e):e}():function(){let e,s;let{children:o}=t,a=o.length;for(let t=0;t<a;t++)if(s=(e=o[t]).getBoundingClientRect(),n&&s.left+s.width/2>i||!n&&s.top+s.height/2>r)return e;return null}()}canStart(t){if(this.drake.dragging&&this.mirror||this.isContainer(t))return;let e=t;for(;w(t)&&!1===this.isContainer(w(t));)if(this.options.invalid(t,e)||!(t=w(t)))return;let i=w(t);if(!(!i||this.options.invalid(t,e))&&this.options.moves(t,i,e,F(t)))return{item:t,source:i}}drop(t,e){let i=w(t);this.copy&&this.options.copySortSource&&e===this.source&&i.removeChild(this.item),this.isInitialPlacement(e)?this.drake.emit("cancel",t,this.source,this.source):this.drake.emit("drop",t,e,this.source,this.currentSibling),this.cleanup()}canMove(t){return!!this.canStart(t)}remove(){if(!this.drake.dragging)return;let t=this.copy||this.item,e=w(t);e&&e.removeChild(t),this.drake.emit(this.copy?"cancel":"remove",t,e,this.source),this.cleanup()}destroy(){this.events(!0),this.release({})}manualStart(t){let e=this.canStart(t);e&&this.start(e)}}window.dragula=(t,e)=>{void 0===e&&!1===Array.isArray(t)?e=t:Array.isArray(t)&&(void 0===e&&(e={}),!1===Object.prototype.hasOwnProperty.call(e,"containers")&&(e.containers=t));let i=new P(e);return i.events(),i.getDrake()}}();
//# sourceMappingURL=dragula-min.js.map
